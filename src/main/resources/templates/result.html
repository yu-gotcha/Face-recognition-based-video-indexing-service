<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TimeAttack</title>
    <link rel="stylesheet" type="text/css" href="/css/style_result.css"/>
    <link rel="stylesheet" type="text/css" href="/css/style_common.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
</head>
<body>
{{^userdata}}
<meta http-equiv="refresh" content="0;url=login">
{{/userdata}}

{{#userdata}}
<div class="page-wrapper">
    <div class="header-wrapper">
        <header class="header">
            <div class="logo-section">
                <a href="index" class="nav-logo">T.A.</a>
            </div>
            <nav class="navigation-section"> <!--ul li로 바꾸-->
                <input type="button" class="nav-btn" value="홈" onClick="location.href='index'"/>
                <input type="button" class="nav-btn" value="소개" onClick="location.href='manual'"/>
                <input type="button" class="nav-btn" value="업로드" onClick="location.href='upload'"/>
                <input type="button" class="nav-btn" value="리스트" onClick="location.href='list'"/>
                <span class="nav-user-name">{{userName}} 님</span>
                <input type="button" class="nav-logout-btn" value="로그아웃" onClick="location.href='logout'"/>
            </nav>
        </header>
    </div>
    <div class="content-wrapper">
        <!--리스트 관련된걸로 해시맵 만들어서 하면 될거같은디 반복 돌려서 테이블 만드는거-->
        <div>
            <div>
                <p>NO.{{no}}</p>
            </div>
            {{#file}}
            <div>
            <span>
                <div>
                    <img src="/TimeAttackFile/file/image/{{imgSavedName}}">
                </div>
                <div>
                    <p>{{imgName}}</p>
                </div>
            </span>
                <span>
                <div>
                    <video id="uploaded-video" src="/TimeAttackFile/file/video/{{vidSavedName}}" controls type="video/quicktime"></video>
<!--                    <video id="uploaded-video" src="/img/샘플비디오.mp4" controls type="video/quicktime"></video>-->
                </div>
                <div>
                    <p>{{vidName}}</p>
                </div>
            </span>
            </div>
            {{/file}}
        </div>

        <div class="ddd">
            {{#resultList}}
            <p>{{start}}-{{end}}</p>
            <button onclick="Change_CurrentTime('{{start}}')">이동</button>
            {{/resultList}}
        </div>
    </div>
    <div style="position:fixed;left:0;top:95%;">
        색깔
        <button class="theme-1">1번</button>
        <button class="theme-2">2번</button>
        <button class="theme-3">3번</button>
        <input type="button" onclick="get_storage();" value="겟"/>
        <input type="button" onclick="clear_storage();" value="클리어"/>
        테두리
        <button class="line-check">on/off</button>
    </div>
</div>
{{/userdata}}
</body>
<script type="text/javascript" src="/js/script_theme.js"></script>
<script>
    //형태는 0:30-1:34를 따른다. 나중에 바뀌면 수정... ex)00:00:00 or 12345
    function Change_CurrentTime(start) {
        const str = start;
        const strArr = str.split(':');
        const strMinute = parseInt(strArr[0]);
        const strSecond = parseInt(strArr[1]);
        const TotalSecond = strMinute * 60 + strSecond;
        const vid = document.getElementById("uploaded-video");
        vid.currentTime = TotalSecond;

    }
</script>
</html>