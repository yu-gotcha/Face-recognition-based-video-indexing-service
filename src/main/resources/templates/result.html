<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeAttack</title>
    <link rel="stylesheet" type="text/css" href="/css/style_result.css"/>
    <link rel="stylesheet" type="text/css" href="/css/style_common.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
</head>
<body>
{{^userdata}}
<meta http-equiv="refresh" content="0;url=login">
{{/userdata}}

{{#userdata}}
<div class="page-wrapper">
    <div class="header-wrapper">
        <header class="header">
            <div class="logo-section">
                <a href="index" class="nav-logo">T.A.</a>
            </div>
            <nav class="navigation-section"> <!--ul li로 바꾸-->
                <input type="button" class="nav-btn" value="홈" onClick="location.href='index'"/>
                <input type="button" class="nav-btn" value="소개" onClick="location.href='manual'"/>
                <input type="button" class="nav-btn" value="업로드" onClick="location.href='upload'"/>
                <input type="button" class="nav-btn" value="리스트" onClick="location.href='list'"/>
                <span class="nav-user-name">{{userName}} 님</span>
                <input type="button" class="nav-logout-btn" value="로그아웃" onClick="location.href='logout'"/>
            </nav>
        </header>
    </div>
    <div class="content-wrapper">
        <!--리스트 관련된걸로 해시맵 만들어서 하면 될거같은디 반복 돌려서 테이블 만드는거-->
        <div class="content-wrapper-2">
            {{#file}}
            <div class="result-left-section">
                <video class="result-video" id="uploaded-video" src="/TimeAttackFile/file/video/{{vidSavedName}}"
                       controls type="video/quicktime"></video>
                <!--                <video class="result-video" id="uploaded-video" src="/img/선미동영상.mp4" controls type="video/quicktime"></video>-->
                <!--                <video class="result-video" id="uploaded-video" src="/img/샘플비디오.mp4" controls type="video/quicktime"></video>-->
            </div>
            <div class="result-right-section">
                <div class="result-right-top-section">
                    <img class="result-image" src="/TimeAttackFile/file/image/{{imgSavedName}}">
                    <!--                    <img class="result-image" src="/img/선미이미지.png">-->
                    <!--                    <img class="result-image" src="/img/샘플이미지.jpg">-->
                </div>
                <div class="result-right-bottom-section">
                    {{#resultList}}
                    <div class="result-table">
                        <p class="result-table-time">{{start}}-{{end}}</p>
                        <img class="result-table-tn" src="/TimeAttackFile/result/{{id}}/{{path}}"
                             onclick="Change_CurrentTime('{{start}}')">
                    </div>
                    {{/resultList}}
                </div>
            </div>
            {{/file}}
        </div>
    </div>
    <div style="position:fixed;left:0;top:95%;">
        색깔
        <button class="theme-1">1번</button>
        <button class="theme-2">2번</button>
        <button class="theme-3">3번</button>
        <input type="button" onclick="get_storage();" value="겟"/>
        <input type="button" onclick="clear_storage();" value="클리어"/>
        테두리
        <button class="line-check">on/off</button>
    </div>
</div>
{{/userdata}}
</body>
<script type="text/javascript" src="/js/script_theme.js"></script>
<script>
    //형태는 00:00:00
    function Change_CurrentTime(start) {
        const str = start;
        const strArr = str.split(':');
        const strHour = parseInt(strArr[0]);
        const strMinute = parseInt(strArr[1]);
        const strSecond = parseInt(strArr[2]);
        const TotalSecond = strHour * 3600 + strMinute * 60 + strSecond;
        const vid = document.getElementById("uploaded-video");
        vid.currentTime = TotalSecond;

    }
</script>
</html>